<html>

<head>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript">
    messages = [
      {
        "name": "m1",
        "text": [
          {
            "text1": "hi Im text 1",
            "text2": "hi Im text 2",
            "text3": "hi Im text 3",
            "text4": "hi Im text 4"
          }
        ],
        "images": [
          {
            "img1": "./images/img1.jpg",
            "img2": "./images/img2.jpg"
          }
        ],
        "template": "./templateA.html",
        "legth": 2,
        "date": [
          {
            "yearlyStartTime": "1/1/2021",
            "yearlyEndTime": "31/12/2021",
            "weeklyTime": [
              "mo",
              "we"
            ],
            "dailyStartTime": 6,
            "dailyEndTime": 12
          }
        ]
      },
      {
        "name": "m2",
        "text": [
          {
            "text1": "hi Im text 1",
            "text2": "hi Im text 2",
            "text3": "hi Im text 3",
            "text4": "hi Im text 4",
            "text5": "hi Im text 5",
            "text6": "hi Im text 6",
            "text7": "hi Im text 7",
            "text8": "hi Im text 8",
            "text9": "hi Im text 9",
            "text10": "hi Im text 10"
          }
        ],
        "images": [
          {
            "img1": "./images/img1.jpg"
          }
        ],
        "template": "./templateA.html",
        "legth": 2,
        "date": [
          {
            "yearlyStartTime": "1/03/2021",
            "yearlyEndTime": "30/04/2021",
            "weeklyTime": [
              "tu",
              "we"
            ],
            "dailyStartTime": 10,
            "dailyEndTime": 16
          }
        ]
      },
      {
        "name": "m3",
        "text": [
          {}
        ],
        "images": [
          {}
        ],
        "template": "./templateC.html",
        "legth": 2,
        "date": [
          {
            "yearlyStartTime": "1/05/2021",
            "yearlyEndTime": "15/06/2021",
            "weeklyTime": [
              "su",
              "mo",
              "tu",
              "we",
              "th",
              "fr",
              "sa"
            ],
            "dailyStartTime": 8,
            "dailyEndTime": 22
          }
        ]
      },
      {
        "name": "m4",
        "text": [
          {
            "text1": "hi Im text 1",
            "text2": "hi Im text 2"
          }
        ],
        "images": [
          { "img2": "./images/img2.jpg" }
        ],
        "template": "./templateA.html",
        "legth": 2,
        "date": [
          {
            "yearlyStartTime": "29/03/2021",
            "yearlyEndTime": "15/04/2021",
            "weeklyTime": [
              "mo"
            ],
            "dailyStartTime": 15,
            "dailyEndTime": 19
          }
        ]
      },
      {
        "name": "m5",
        "text": [
          {
            "text1": "hi Im text 1",
            "text2": "hi Im text 2",
            "text3": "hi Im text 3",
            "text4": "hi Im text 4",
            "text5": "hi Im text 5",
            "text6": "hi Im text 6",
            "text7": "hi Im text 7"
          }
        ],
        "images": [
          {
            "img1": "./images/img1.jpg",
            "img2": "./images/img2.jpg"
          }
        ],
        "template": "./templateB.html",
        "legth": 2,
        "date": [
          {
            "yearlyStartTime": "1/04/2021",
            "yearlyEndTime": "30/04/2021",
            "weeklyTime": [
              "mo",
              "tu",
              "we"
            ],
            "dailyStartTime": 1,
            "dailyEndTime": 23
          }
        ]
      }
    ]
    i = 0
    var mesSize = messages.length
    function loadPages() {
      let temp = messages[i % mesSize].template;
      $("#result").load(temp);
    }
    function loadDetails() {
      var text = ''
      var array = messages[i % mesSize].text[0]
      for (let j in array) {
        text += array[j] + '\n'
      }
      $("p").text(text)
      var arrayIm = messages[i % mesSize].images[0]
      var sizeArray = Object.keys(arrayIm).length
      if (sizeArray == 0) {
        var img1 = document.getElementById("img1")
        $(img1).hide();
        var img2 = document.getElementById("img2")
        $(img2).hide();

      }
      else if (sizeArray == 1) {
        let name = Object.keys(arrayIm)
        if (name == 'img1') {
          var img2 = document.getElementById("img2")
          $(img2).hide();
          var img1 = document.getElementById("img1")
          $(img1).show();

        } else {
          var img1 = document.getElementById("img1")
          $(img1).hide();
          var img2 = document.getElementById("img2")
          $(img2).show();
        }
      }
      else {
        for (let j in arrayIm) {
          var img = document.getElementById(j)
          if (img !== null)
            img.src = arrayIm[j];
          $(img).show();
        }
      }
      document.getElementById("mes").innerHTML = messages[i % mesSize].name;
    }
    function func() {
      loadPages()
      loadDetails()
      let time = messages[i % mesSize].legth * 1000;
      setTimeout(() => {
        func();
        i++
      }, time);
    }

    $(document).ready(function () {
      func()
    })

  </script>


</head>

<body>


  <h2 id="mes"></h2>
  <div id=result>Press on the button to load content from template.html <br> Make sure you closed all Chrome.exe open
    windows before running this</div>
  <p id="p"> </p>
  <br>
  <div>
    <img id="img1" width="200" height="200">
    <img id="img2" width="200" height="200">
  </div>
</body>


</html>